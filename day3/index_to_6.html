<!DOCTYPE html>
<html lang="en">
<head>
    <title>Title</title>
</head>
<link rel="stylesheet" href="./main.css">
<body>
<div class="clock"></div>
<script>
    // 跨域： 协议 端口号 域名 有一个不相同就是跨域
    let clock = document.getElementsByClassName('clock')[0]

    /* let xhr = new XMLHttpRequest()
    xhr.open('get', '/clock', true)
    xhr.onload = function () {
      if(this.status === 200){
        clock.innerHTML = xhr.response
      }
    }
    xhr.send() */

    // fetch 基于promise的
    fetch('/clock', {
      method: 'get'
    }).then(function (res) {
      // console.log(res.text()) // 这里打印会锁住流，下面无法抛出，运行return时去掉注解。
      return res.text() // fetch参数res字符串输出方法，出来是一个promise需要再.then一次
      // return res.json() // fetch参数res对象输出方法，出来是一个promise需要再.then一次
    }).then(function (data) {
      clock.innerHTML = data
    })
</script>
</body>
</html>
